# Building extension module locally

This may be useful for debugging purposes.
Assuming NVBench is installed into `NVBENCH_PREFIX`,
and pybind11 repo is cloned to `PYBIND11_DIR`,
Python extension can be built locally, using host compiler,
as follows:

```bash
g++ py_nvbench.cpp                                  \
   -shared -fPIC                                    \
   -I ${PYBIND11_DIR}/include                       \
   -I ${NVBENCH_PREFIX}/include                     \
   -I /usr/local/cuda/include                       \
   $(python3-config --includes)                     \
   $(python3-config --libs)                         \
   -L ${NVBENCH_PREFIX}/lib/                        \
   -lnvbench                                        \
   -Wl,-rpath,${NVBENCH_PREFIX}/lib                 \
   -L /usr/local/cuda/lib64/                        \
   -lcudart                                         \
   -Wl,-rpath,/usr/local/cuda/lib64                 \
   -o _nvbench$(python3-config --extension-suffix)
```
